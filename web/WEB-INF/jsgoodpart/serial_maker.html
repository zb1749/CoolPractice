<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>generate serial</title>
</head>
<script type="text/javascript">
    var serial_maker = function(){
        var prefix = '';
        var seq = 0;
        return{//为什么写到return里面去啊，直接是它的一个方法不就完事了吗？
            set_prefix:function (p) {
                prefix = String(p);
            },
            set_seq:function (s) {
                seq = s;
            },
            gensym:function () {
                var result = prefix + seq;
                seq += 1;//还是有用的，只不过第二次调用，才能看见=。=
                return result;
            }
        };
    };

    var seqer = serial_maker();
    seqer.set_prefix('Q');
    seqer.set_seq(1000);
    //var unique = seqer.gensym();

    //可以隐藏prefix和seq
    document.writeln(seqer.gensym());
    document.writeln(seqer.gensym());
    document.writeln(seqer.gensym());
    document.writeln(seqer.gensym());
</script>
<body>

</body>
</html>